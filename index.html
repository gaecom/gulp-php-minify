<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl">
  <title data-ice="title">Home | Gulp-PHP-Minify</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Gulp plug-in minifying PHP source code by removing comments and whitespace."><meta property="twitter:card" content="summary"><meta property="twitter:title" content="Gulp-PHP-Minify"><meta property="twitter:description" content="Gulp plug-in minifying PHP source code by removing comments and whitespace."></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./" style="display: flex; align-items: center;"><img src="./image/brand_logo.png" style="width:34px;"></a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/cedx/gulp-php-minify"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/fast_transformer.js~FastTransformer.html">FastTransformer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/minifier.js~Minifier.html">Minifier</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/safe_transformer.js~SafeTransformer.html">SafeTransformer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Transform">Transform</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div data-ice="index" class="github-markdown"><h1 id="gulp-php-minify">Gulp-PHP-Minify</h1><p><img src="https://img.shields.io/badge/node-%3E%3D8.3-brightgreen.svg" alt="Runtime"> <img src="https://img.shields.io/npm/v/@cedx/gulp-php-minify.svg" alt="Release"> <img src="https://img.shields.io/npm/l/@cedx/gulp-php-minify.svg" alt="License"> <img src="https://img.shields.io/npm/dt/@cedx/gulp-php-minify.svg" alt="Downloads"> <img src="https://david-dm.org/cedx/gulp-php-minify.svg" alt="Dependencies"> <img src="https://coveralls.io/repos/github/cedx/gulp-php-minify/badge.svg" alt="Coverage"> <img src="https://travis-ci.org/cedx/gulp-php-minify.svg" alt="Build"></p>
<p><a href="http://gulpjs.com">Gulp</a> plug-in minifying <a href="https://secure.php.net">PHP</a> source code by removing comments and whitespace.</p>
<h2 id="getting-started">Getting started</h2><p>If you haven&apos;t used <a href="http://gulpjs.com">Gulp</a> before, be sure to check out the <a href="https://github.com/gulpjs/gulp/blob/master/docs/README.md">related documentation</a>, as it explains how to create a <code>gulpfile.js</code> as well as install and use plug-ins.
Once you&apos;re familiar with that process, you may install this plug-in with this command:</p>
<pre><code class="lang-shell"><code class="source-code prettyprint">$ npm install --save-dev @cedx/gulp-php-minify</code>
</code></pre>
<p>Once the plug-in has been installed, it may be enabled inside your <code>gulpfile.js</code> file.</p>
<h2 id="usage">Usage</h2><p>The plug-in takes a list of <a href="https://secure.php.net">PHP</a> scripts as input, and removes the comments and whitespace in these files by applying the <a href="https://secure.php.net/manual/en/function.php-strip-whitespace.php"><code>php_strip_whitespace()</code></a> function on their contents:</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">const {phpMinify} = require(&apos;@cedx/gulp-php-minify&apos;);
const gulp = require(&apos;gulp&apos;);

gulp.task(&apos;minify:php&apos;, () =&gt; gulp.src(&apos;path/to/lib/**.php&apos;, {read: false})
  .pipe(phpMinify())
  .pipe(gulp.dest(&apos;path/to/out&apos;))
);</code>
</code></pre>
<p>The plug-in only needs the file paths, so you should specify the <code>read</code> option to <code>false</code> when providing the file list, and you should not have any other plug-in before it.</p>
<h2 id="options">Options</h2><h3 id="-code-binary--string----quot-php-quot---code-"><code>binary: string = &quot;php&quot;</code></h3><p>The plug-in relies on the availability of the <a href="https://secure.php.net">PHP</a> executable on the target system. By default, the plug-in will use the <code>php</code> binary found on the system path.</p>
<p>If the plug-in cannot find the default <code>php</code> binary, or if you want to use a different one, you can provide the path to the <code>php</code> executable by using the <code>binary</code> option:</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">return gulp.src(&apos;path/to/lib/**.php&apos;, {read: false})
  .pipe(phpMinify({binary: &apos;C:\\Program Files\\PHP\\php.exe&apos;}))
  .pipe(gulp.dest(&apos;path/to/out&apos;));</code>
</code></pre>
<h3 id="-code-mode--string----quot-safe-quot---code-"><code>mode: string = &quot;safe&quot;</code></h3><p>The plug-in can work in two manners, which can be selected using the <code>mode</code> option:</p>
<ul>
<li>the <code>safe</code> mode: as its name implies, this mode is very reliable. But it is also very slow as it spawns a new PHP process for every file to be processed. This is the default mode.</li>
<li>the <code>fast</code> mode: as its name implies, this mode is very fast, but it is not very reliable. It spawns a PHP web server that processes the input files, but on some systems this fails. This mode requires a <a href="https://secure.php.net">PHP</a> runtime version <strong>7.0 or later</strong>.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">return gulp.src(&apos;path/to/lib/**.php&apos;, {read: false})
  .pipe(phpMinify({mode: &apos;fast&apos;}))
  .pipe(gulp.dest(&apos;path/to/out&apos;));</code>
</code></pre>
<h3 id="-code-silent--boolean---false--code-"><code>silent: boolean = false</code></h3><p>By default, the plug-in prints to the standard output the paths of the minified scripts. You can disable this output by setting the <code>silent</code> option to <code>true</code>.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">return gulp.src(&apos;path/to/lib/**.php&apos;, {read: false})
  .pipe(phpMinify({silent: true}))
  .pipe(gulp.dest(&apos;path/to/out&apos;));</code>
</code></pre>
<h2 id="see-also">See also</h2><ul>
<li><a href="https://cedx.github.io/gulp-php-minify">API reference</a></li>
<li><a href="https://coveralls.io/github/cedx/gulp-php-minify">Code coverage</a></li>
<li><a href="https://travis-ci.org/cedx/gulp-php-minify">Continuous integration</a></li>
</ul>
<h2 id="license">License</h2><p><a href="https://github.com/cedx/gulp-php-minify">Gulp-PHP-Minify</a> is distributed under the Apache License, version 2.0.</p>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.0.1)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
